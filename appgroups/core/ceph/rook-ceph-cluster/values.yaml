rook-ceph-cluster:
  operatorNamespace: rook-ceph
  
  cephClusterSpec:
    cephVersion:
      image: quay.io/ceph/ceph:v18.2.4
    
    dataDirHostPath: /var/lib/rook
    
    mon:
      count: 3
      allowMultiplePerNode: false
    
    mgr:
      count: 2
      modules:
        - name: pg_autoscaler
          enabled: true
        - name: prometheus
          enabled: true
    
    dashboard:
      enabled: true
      ssl: false
    
    monitoring:
      enabled: true
    
    storage:
      useAllNodes: true      # Auto-discover all nodes
      useAllDevices: false
      deviceFilter: "^sdb$"  # Only /dev/sdb from Proxmox
    
    resources:
      mgr:
        limits:
          memory: "1Gi"
        requests:
          cpu: "500m"
          memory: "512Mi"
      mon:
        limits:
          memory: "2Gi"
        requests:
          cpu: "500m"
          memory: "1Gi"
      osd:
        limits:
          memory: "4Gi"
        requests:
          cpu: "1000m"
          memory: "2Gi"
  
  cephObjectStores:
    - name: cv-storage
      spec:
        metadataPool:
          failureDomain: host
          replicated:
            size: 2
        dataPool:
          failureDomain: host
          replicated:
            size: 2
        gateway:
          port: 80
          instances: 2
      storageClass:
        enabled: true
        name: rook-ceph-bucket
        reclaimPolicy: Delete
  
  cephBlockPools:
    - name: replicapool
      spec:
        failureDomain: host
        replicated:
          size: 2
      storageClass:
        enabled: true
        name: rook-ceph-block
        isDefault: false
        reclaimPolicy: Delete
        allowVolumeExpansion: true