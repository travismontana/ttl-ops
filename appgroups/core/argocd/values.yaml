global:
  domain: "{{ .Values.clusterName }}.{{ .Values.domainName }}"
  labels:
    ttl-ops/marco: polo

server:
  extraArgs:
    - --basehref=/argocd
    - --rootpath=/argocd
    - --insecure

  ingress:
    enabled: true
    hostname: "{{ .Values.clusterName }}.{{ .Values.domainName }}"
    path: /argocd
    ingressClassName: traefik
    pathType: Prefix
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    tls:
      - secretName: "wildcard-tls"
        hosts:
          - "{{ .Values.clusterName }}.{{ .Values.domainName }}"

configs:
  params:
    server.basehref: /argocd
    server.rootpath: /argocd
    server.insecure: "true"

certificates:
  enabled: true